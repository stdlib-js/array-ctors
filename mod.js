import{Buffer as e}from"https://deno.land/std@0.90.0/node/buffer.ts";!globalThis.Buffer&&Object.defineProperty(globalThis,"Buffer",{value:e,enumerable:!1,writable:!0,configurable:!0}),!globalThis.global&&Object.defineProperty(globalThis,"global",{value:globalThis,writable:!1,enumerable:!1,configurable:!0});import r from"https://deno.land/std@0.90.0/node/process.ts";!globalThis.process&&Object.defineProperty(globalThis,"process",{value:r,enumerable:!1,writable:!0,configurable:!0});var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var i=function(){return n&&"symbol"==typeof Symbol.toStringTag},a=Object.prototype.toString,o=a;var u=function(e){return o.call(e)},f=Object.prototype.hasOwnProperty;var l=function(e,r){return null!=e&&f.call(e,r)},c="function"==typeof Symbol?Symbol.toStringTag:"",y=l,s=c,b=a;var m=u,h=function(e){var r,t,n;if(null==e)return b.call(e);t=e[s],r=y(e,s);try{e[s]=void 0}catch(r){return b.call(e)}return n=b.call(e),r?e[s]=t:delete e[s],n},g=i()?h:m,p=g,v="function"==typeof Float64Array;var w="function"==typeof Float64Array?Float64Array:null,d=function(e){return v&&e instanceof Float64Array||"[object Float64Array]"===p(e)},E=w;var A="function"==typeof Float64Array?Float64Array:void 0,T=function(){throw new Error("not implemented")},_=function(){var e,r;if("function"!=typeof E)return!1;try{r=new E([1,3.14,-3.14,NaN]),e=d(r)&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){e=!1}return e}()?A:T,j=g,x="function"==typeof Float32Array;var k=function(e){return x&&e instanceof Float32Array||"[object Float32Array]"===j(e)},V=Number.POSITIVE_INFINITY,B="function"==typeof Float32Array?Float32Array:null,L=k,O=V,R=B;var S="function"==typeof Float32Array?Float32Array:void 0,I=function(){throw new Error("not implemented")},P=function(){var e,r;if("function"!=typeof R)return!1;try{r=new R([1,3.14,-3.14,5e40]),e=L(r)&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===O}catch(r){e=!1}return e}()?S:I,U=g,F="function"==typeof Int16Array;var C="function"==typeof Int16Array?Int16Array:null,M=function(e){return F&&e instanceof Int16Array||"[object Int16Array]"===U(e)},N=C;var Y="function"==typeof Int16Array?Int16Array:void 0,G=function(){throw new Error("not implemented")},W=function(){var e,r;if("function"!=typeof N)return!1;try{r=new N([1,3.14,-3.14,32768]),e=M(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-32768===r[3]}catch(r){e=!1}return e}()?Y:G,J=g,X="function"==typeof Int32Array;var q="function"==typeof Int32Array?Int32Array:null,z=function(e){return X&&e instanceof Int32Array||"[object Int32Array]"===J(e)},D=q;var H="function"==typeof Int32Array?Int32Array:void 0,K=function(){throw new Error("not implemented")},Q=function(){var e,r;if("function"!=typeof D)return!1;try{r=new D([1,3.14,-3.14,2147483648]),e=z(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-2147483648===r[3]}catch(r){e=!1}return e}()?H:K,Z=g,$="function"==typeof Int8Array;var ee="function"==typeof Int8Array?Int8Array:null,re=function(e){return $&&e instanceof Int8Array||"[object Int8Array]"===Z(e)},te=ee;var ne="function"==typeof Int8Array?Int8Array:void 0,ie=function(){throw new Error("not implemented")},ae=function(){var e,r;if("function"!=typeof te)return!1;try{r=new te([1,3.14,-3.14,128]),e=re(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-128===r[3]}catch(r){e=!1}return e}()?ne:ie,oe=g,ue="function"==typeof Uint16Array;var fe="function"==typeof Uint16Array?Uint16Array:null,le=function(e){return ue&&e instanceof Uint16Array||"[object Uint16Array]"===oe(e)},ce=fe;var ye="function"==typeof Uint16Array?Uint16Array:void 0,se=function(){throw new Error("not implemented")},be=function(){var e,r;if("function"!=typeof ce)return!1;try{r=new ce(r=[1,3.14,-3.14,65536,65537]),e=le(r)&&1===r[0]&&3===r[1]&&65533===r[2]&&0===r[3]&&1===r[4]}catch(r){e=!1}return e}()?ye:se,me=g,he="function"==typeof Uint32Array;var ge="function"==typeof Uint32Array?Uint32Array:null,pe=function(e){return he&&e instanceof Uint32Array||"[object Uint32Array]"===me(e)},ve=ge;var we="function"==typeof Uint32Array?Uint32Array:void 0,de=function(){throw new Error("not implemented")},Ee=function(){var e,r;if("function"!=typeof ve)return!1;try{r=new ve(r=[1,3.14,-3.14,4294967296,4294967297]),e=pe(r)&&1===r[0]&&3===r[1]&&4294967293===r[2]&&0===r[3]&&1===r[4]}catch(r){e=!1}return e}()?we:de,Ae=g,Te="function"==typeof Uint8Array;var _e="function"==typeof Uint8Array?Uint8Array:null,je=function(e){return Te&&e instanceof Uint8Array||"[object Uint8Array]"===Ae(e)},xe=_e;var ke="function"==typeof Uint8Array?Uint8Array:void 0,Ve=function(){throw new Error("not implemented")},Be=function(){var e,r;if("function"!=typeof xe)return!1;try{r=new xe(r=[1,3.14,-3.14,256,257]),e=je(r)&&1===r[0]&&3===r[1]&&253===r[2]&&0===r[3]&&1===r[4]}catch(r){e=!1}return e}()?ke:Ve,Le=g,Oe="function"==typeof Uint8ClampedArray;var Re="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null,Se=function(e){return Oe&&e instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===Le(e)},Ie=Re;var Pe="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0,Ue=function(){throw new Error("not implemented")},Fe=function(){var e,r;if("function"!=typeof Ie)return!1;try{r=new Ie([-1,0,1,3.14,4.99,255,256]),e=Se(r)&&0===r[0]&&0===r[1]&&1===r[2]&&3===r[3]&&5===r[4]&&255===r[5]&&255===r[6]}catch(r){e=!1}return e}()?Pe:Ue,Ce="function"==typeof Object.defineProperty?Object.defineProperty:null;var Me=function(){try{return Ce({},"x",{}),!0}catch(e){return!1}},Ne=Object.defineProperty,Ye=Object.prototype,Ge=Ye.toString,We=Ye.__defineGetter__,Je=Ye.__defineSetter__,Xe=Ye.__lookupGetter__,qe=Ye.__lookupSetter__;var ze=function(e,r,t){var n,i,a,o;if("object"!=typeof e||null===e||"[object Array]"===Ge.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof t||null===t||"[object Array]"===Ge.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((i="value"in t)&&(Xe.call(e,r)||qe.call(e,r)?(n=e.__proto__,e.__proto__=Ye,delete e[r],e[r]=t.value,e.__proto__=n):e[r]=t.value),a="get"in t,o="set"in t,i&&(a||o))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return a&&We&&We.call(e,r,t.get),o&&Je&&Je.call(e,r,t.set),e},De=Ne,He=ze,Ke=Me()?De:He,Qe=Ke;var Ze=function(e,r,t){Qe(e,r,{configurable:!1,enumerable:!1,writable:!1,value:t})},$e=Ze;var er=function(e){return"number"==typeof e},rr=Number,tr=rr.prototype.toString;var nr=g,ir=rr,ar=function(e){try{return tr.call(e),!0}catch(e){return!1}},or=i();var ur=function(e){return"object"==typeof e&&(e instanceof ir||(or?ar(e):"[object Number]"===nr(e)))},fr=er,lr=ur;var cr=$e,yr=function(e){return fr(e)||lr(e)},sr=ur;cr(yr,"isPrimitive",er),cr(yr,"isObject",sr);var br=yr,mr=rr.NEGATIVE_INFINITY,hr=Math.floor;var gr=function(e){return hr(e)===e},pr=V,vr=mr,wr=gr;var dr=function(e){return e<pr&&e>vr&&wr(e)},Er=br.isPrimitive,Ar=dr;var Tr=function(e){return Er(e)&&Ar(e)},_r=br.isObject,jr=dr;var xr=function(e){return _r(e)&&jr(e.valueOf())},kr=Tr,Vr=xr;var Br=$e,Lr=function(e){return kr(e)||Vr(e)},Or=xr;Br(Lr,"isPrimitive",Tr),Br(Lr,"isObject",Or);var Rr=Lr.isPrimitive;var Sr=function(e){return Rr(e)&&e>=0},Ir=Lr.isObject;var Pr=function(e){return Ir(e)&&e.valueOf()>=0},Ur=Sr,Fr=Pr;var Cr=$e,Mr=function(e){return Ur(e)||Fr(e)},Nr=Pr;Cr(Mr,"isPrimitive",Sr),Cr(Mr,"isObject",Nr);var Yr=Mr,Gr=gr;var Wr=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&Gr(e.length)&&e.length>=0&&e.length<=4294967295},Jr=gr;var Xr=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&Jr(e.length)&&e.length>=0&&e.length<=9007199254740991},qr=g,zr="function"==typeof ArrayBuffer;var Dr=function(e){return zr&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===qr(e)},Hr=g;var Kr=Array.isArray?Array.isArray:function(e){return"[object Array]"===Hr(e)},Qr=Kr;var Zr=function(e){return"object"==typeof e&&null!==e&&!Qr(e)},$r=/./;var et=function(e){return"boolean"==typeof e},rt=Boolean.prototype.toString;var tt=g,nt=function(e){try{return rt.call(e),!0}catch(e){return!1}},it=i();var at=function(e){return"object"==typeof e&&(e instanceof Boolean||(it?nt(e):"[object Boolean]"===tt(e)))},ot=et,ut=at;var ft=$e,lt=function(e){return ot(e)||ut(e)},ct=at;ft(lt,"isPrimitive",et),ft(lt,"isObject",ct);var yt="object"==typeof self?self:null,st="object"==typeof window?window:null,bt=lt.isPrimitive,mt=function(){return new Function("return this;")()},ht=yt,gt=st,pt="object"==typeof t?t:null;var vt=function(e){if(arguments.length){if(!bt(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return mt()}if(ht)return ht;if(gt)return gt;if(pt)return pt;throw new Error("unexpected error. Unable to resolve global object.")},wt=vt(),dt=wt.document&&wt.document.childNodes,Et=Int8Array,At=$r,Tt=dt,_t=Et;var jt=function(){return"function"==typeof At||"object"==typeof _t||"function"==typeof Tt};var xt=function(){return/^\s*function\s*([^(]*)/i},kt=xt;$e(kt,"REGEXP",xt());var Vt=kt,Bt=Kr;var Lt=function(e){return null!==e&&"object"==typeof e};$e(Lt,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(r){var t,n;if(!Bt(r))return!1;if(0===(t=r.length))return!1;for(n=0;n<t;n++)if(!1===e(r[n]))return!1;return!0}}(Lt));var Ot=Lt;var Rt=g,St=Vt.REGEXP,It=function(e){return Ot(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))};var Pt=function(e){var r,t,n;if(("Object"===(t=Rt(e).slice(8,-1))||"Error"===t)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(r=St.exec(n.toString()))return r[1]}return It(e)?"Buffer":t},Ut=Pt;var Ft=Pt;var Ct=function(e){var r;return null===e?"null":"object"===(r=typeof e)?Ut(e).toLowerCase():r},Mt=function(e){return Ft(e).toLowerCase()},Nt=jt()?Mt:Ct;var Yt=function(e){return"function"===Nt(e)};var Gt=br.isPrimitive,Wt=Ke,Jt=$e,Xt=function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"},qt=function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e};function zt(e,r){if(!(this instanceof zt))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Gt(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!Gt(r))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+r+"`.");return Wt(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),Wt(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:r}),this}Jt(zt,"BYTES_PER_ELEMENT",8),Jt(zt.prototype,"BYTES_PER_ELEMENT",8),Jt(zt.prototype,"byteLength",16),Jt(zt.prototype,"toString",Xt),Jt(zt.prototype,"toJSON",qt);var Dt=zt;var Ht=br.isPrimitive,Kt=Ke,Qt=$e,Zt=P,$t=function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"},en=function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e};function rn(e,r){var t;if(!(this instanceof rn))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Ht(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!Ht(r))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+r+"`.");return Kt(this,"re",{configurable:!1,enumerable:!0,get:function(){return t[0]}}),Kt(this,"im",{configurable:!1,enumerable:!0,get:function(){return t[1]}}),(t=new Zt(2))[0]=e,t[1]=r,this}Qt(rn,"BYTES_PER_ELEMENT",4),Qt(rn.prototype,"BYTES_PER_ELEMENT",4),Qt(rn.prototype,"byteLength",8),Qt(rn.prototype,"toString",$t),Qt(rn.prototype,"toJSON",en);var tn=rn,nn=Dt,an=tn;var on=function(e){return e instanceof nn||e instanceof an||"object"==typeof e&&null!==e&&"number"==typeof e.re&&"number"==typeof e.im},un=gr;var fn=function(e){return un(e/2)},ln=l;var cn=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&ln(Symbol,"iterator")&&"symbol"==typeof Symbol.iterator},yn=cn()?Symbol.iterator:null;var sn=function(e){return e.re};var bn=function(e){return e.im},mn=Wr,hn=on,gn=sn,pn=bn;var vn=Wr,wn=on,dn=sn,En=bn;var An=on,Tn=sn,_n=bn;var jn=Yr.isPrimitive,xn=Wr,kn=Xr,Vn=Dr,Bn=Zr,Ln=Kr,On=Yt,Rn=on,Sn=fn,In=gr,Pn=cn,Un=yn,Fn=Ke,Cn=P,Mn=tn,Nn=sn,Yn=bn,Gn=function(e){var r,t,n;for(r=[];;){if(n=(t=e.next()).value)if(mn(n)&&n.length>=2)r.push(n[0],n[1]);else{if(!hn(n))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+n+"`.");r.push(gn(n),pn(n))}if(t.done)break}return r},Wn=function(e,r,t){var n,i,a,o;for(n=[],o=-1;;){if(o+=1,a=(i=e.next()).value)if(a=r.call(t,a,o),vn(a)&&a.length>=2)n.push(a[0],a[1]);else{if(!wn(a))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+a+"`.");n.push(dn(a),En(a))}if(i.done)break}return n},Jn=function(e,r){var t,n,i,a;for(t=r.length,a=0,i=0;i<t;i++){if(n=r[i],!An(n))return null;e[a]=Tn(n),e[a+1]=_n(n),a+=2}return e},Xn=2*Cn.BYTES_PER_ELEMENT,qn=Pn();function zn(e){return e instanceof Hn||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Dn(e){return e===Hn||"Complex128Array"===e.name}function Hn(){var e,r,t,n;if(r=arguments.length,!(this instanceof Hn))return 0===r?new Hn:1===r?new Hn(arguments[0]):2===r?new Hn(arguments[0],arguments[1]):new Hn(arguments[0],arguments[1],arguments[2]);if(0===r)t=new Cn(0);else if(1===r)if(jn(arguments[0]))t=new Cn(2*arguments[0]);else if(kn(arguments[0]))if((n=(t=arguments[0]).length)&&Ln(t)&&Rn(t[0])){if(null===(t=Jn(new Cn(2*n),t))){if(!Sn(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new Cn(arguments[0])}}else{if(!Sn(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new Cn(t)}else if(Vn(arguments[0])){if(!In((t=arguments[0]).byteLength/Xn))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Xn+". Byte length: `"+t.byteLength+"`.");t=new Cn(t)}else{if(!Bn(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(t=arguments[0],!1===qn)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+t+"`.");if(!On(t[Un]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+t+"`.");if(t=t[Un](),!On(t.next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((t=Gn(t))instanceof Error)throw t;t=new Cn(t)}else{if(!Vn(t=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+t+"`.");if(!jn(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!In(e/Xn))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Xn+". Value: `"+e+"`.");if(2===r){if(n=t.byteLength-e,!In(n/Xn))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Xn+". View byte length: `"+n+"`.");t=new Cn(t,e)}else{if(!jn(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Xn>t.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Xn+"`.");t=new Cn(t,e,2*n)}}return Fn(this,"_buffer",{configurable:!1,enumerable:!1,writable:!1,value:t}),Fn(this,"_length",{configurable:!1,enumerable:!1,writable:!1,value:t.length/2}),this}Fn(Hn,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Xn}),Fn(Hn,"name",{configurable:!1,enumerable:!1,writable:!1,value:"Complex64Array"}),Fn(Hn,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,i,a,o,u,f,l,c,y;if(!On(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Dn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!On(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");t>2&&(r=arguments[2])}if(kn(e))if(n){for(u=e.length,c=0;c<u;c++)if(!Rn(e[c])){f=!0;break}if(f){if(!Sn(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(a=(i=new this(u/2))._buffer,c=0;c<u;c++)a[c]=n.call(r,e[c],c)}else for(a=(i=new this(u))._buffer,y=0,c=0;c<u;c++){if(l=n.call(r,e[c],c),Rn(l))a[y]=Nn(l),a[y+1]=Yn(l);else{if(!(xn(l)&&l.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+l+"`.");a[y]=l[0],a[y+1]=l[1]}y+=2}}else i=new this(e);else{if(!(Bn(e)&&qn&&On(e[Un])))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.");if(a=e[Un](),!On(a.next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((o=n?Wn(a,n,r):Gn(a))instanceof Error)throw o;for(a=(i=new this(u=o.length/2))._buffer,c=0;c<u;c++)a[c]=o[c]}return i}}),Fn(Hn,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r;if(!On(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Dn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)}}),Fn(Hn.prototype,"buffer",{configurable:!1,enumerable:!1,get:function(){return this._buffer.buffer}}),Fn(Hn.prototype,"byteLength",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteLength}}),Fn(Hn.prototype,"byteOffset",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteOffset}}),Fn(Hn.prototype,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Hn.BYTES_PER_ELEMENT}),Fn(Hn.prototype,"copyWithin",{configurable:!1,enumerable:!1,writable:!1,value:function(e,r){if(!zn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*r):this._buffer.copyWithin(2*e,2*r,2*arguments[2]),this}}),Fn(Hn.prototype,"entries",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r,t,n,i,a,o;if(!zn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return r=this,e=this._buffer,n=this._length,a=-1,o=-2,Fn(t={},"next",{configurable:!1,enumerable:!1,writable:!1,value:function(){var r;if(a+=1,i||a>=n)return{done:!0};return r=new Mn(e[o+=2],e[o+1]),{value:[a,r],done:!1}}}),Fn(t,"return",{configurable:!1,enumerable:!1,writable:!1,value:function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}}}),Un&&Fn(t,Un,{configurable:!1,enumerable:!1,writable:!1,value:function(){return r.entries()}}),t}}),Fn(Hn.prototype,"get",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n;if(!zn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(r=arguments[1],!xn(t=e)||t.length<2)throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+t+"`.")}else r=e;if(!jn(r))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.");if(!(r>=this._length))return r*=2,t?(t[0]=n[r],t[1]=n[r+1],t):new Mn(n[r],n[r+1])}}),Fn(Hn.prototype,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),Fn(Hn.prototype,"set",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,i,a,o,u,f,l;if(!zn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!jn(t=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+t+"`.")}else t=0;if(Rn(e)){if(t>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+t+"`.");return n[t*=2]=Nn(e),void(n[t+1]=Yn(e))}if(zn(e)){if(t+(o=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e._buffer,l=n.byteOffset+t*Xn,r.buffer===n.buffer&&r.byteOffset<l&&r.byteOffset+r.byteLength>l){for(i=new Cn(r.length),f=0;f<r.length;f++)i[f]=r[f];r=i}for(t*=2,l=0,f=0;f<o;f++)n[t]=r[l],n[t+1]=r[l+1],t+=2,l+=2}else{if(!kn(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(o=e.length,f=0;f<o;f++)if(!Rn(e[f])){a=!0;break}if(a){if(!Sn(o))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+o+"`.");if(t+o/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e,l=n.byteOffset+t*Xn,r.buffer===n.buffer&&r.byteOffset<l&&r.byteOffset+r.byteLength>l){for(i=new Cn(o),f=0;f<o;f++)i[f]=r[f];r=i}for(t*=2,o/=2,l=0,f=0;f<o;f++)n[t]=r[l],n[t+1]=r[l+1],t+=2,l+=2;return}if(t+o>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,f=0;f<o;f++)u=e[f],n[t]=Nn(u),n[t+1]=Yn(u),t+=2}}});var Kn=Hn,Qn=Wr,Zn=on,$n=sn,ei=bn;var ri=Wr,ti=on,ni=sn,ii=bn;var ai=on,oi=sn,ui=bn;var fi=Yr.isPrimitive,li=Wr,ci=Xr,yi=Dr,si=Zr,bi=Kr,mi=Yt,hi=on,gi=fn,pi=gr,vi=cn,wi=yn,di=Ke,Ei=_,Ai=Dt,Ti=sn,_i=bn,ji=function(e){var r,t;for(r=[];;){if((t=e.next()).value)if(Qn(t.value))r.push(t.value[0],t.value[1]);else{if(!Zn(t.value))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+t.value+"`.");r.push($n(t.value),ei(t.value))}if(t.done)break}return r},xi=function(e,r,t){var n,i,a;for(n=[],a=0;;){if(a+=1,(i=e.next()).value)if(i=r.call(t,i.value,a),ri(i))n.push(i[0],i[1]);else{if(!ti(i))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+i+"`.");n.push(ni(i),ii(i))}if(i.done)break}return n},ki=function(e,r){var t,n,i,a;for(t=r.length,a=0,i=0;i<t;i++){if(n=r[i],!ai(n))return null;e[a]=oi(n),e[a+1]=ui(n),a+=2}return e},Vi=2*Ei.BYTES_PER_ELEMENT,Bi=vi();function Li(e){return e instanceof Ri||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Oi(e){return e===Ri||"Complex64Array"===e.name}function Ri(){var e,r,t,n;if(r=arguments.length,!(this instanceof Ri))return 0===r?new Ri:1===r?new Ri(arguments[0]):2===r?new Ri(arguments[0],arguments[1]):new Ri(arguments[0],arguments[1],arguments[2]);if(0===r)t=new Ei(0);else if(1===r)if(fi(arguments[0]))t=new Ei(2*arguments[0]);else if(ci(arguments[0]))if((n=(t=arguments[0]).length)&&bi(t)&&hi(t[0])){if(null===(t=ki(new Ei(2*n),t))){if(!gi(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new Ei(arguments[0])}}else{if(!gi(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new Ei(t)}else if(yi(arguments[0])){if(!pi((t=arguments[0]).byteLength/Vi))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Vi+". Byte length: `"+t.byteLength+"`.");t=new Ei(t)}else{if(!si(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(t=arguments[0],!1===Bi)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+t+"`.");if(!mi(t[wi]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+t+"`.");if(t=t[wi](),!mi(t.next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((t=ji(t))instanceof Error)throw t;t=new Ei(t)}else{if(!yi(t=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+t+"`.");if(!fi(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!pi(e/Vi))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Vi+". Value: `"+e+"`.");if(2===r){if(n=t.byteLength-e,!pi(n/Vi))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Vi+". View byte length: `"+n+"`.");t=new Ei(t,e)}else{if(!fi(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Vi>t.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Vi+"`.");t=new Ei(t,e,2*n)}}return di(this,"_buffer",{configurable:!1,enumerable:!1,writable:!1,value:t}),di(this,"_length",{configurable:!1,enumerable:!1,writable:!1,value:t.length/2}),this}di(Ri,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Vi}),di(Ri,"name",{configurable:!1,enumerable:!1,writable:!1,value:"Complex128Array"}),di(Ri,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,i,a,o,u,f,l,c,y;if(!mi(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Oi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!mi(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");t>2&&(r=arguments[2])}if(ci(e))if(n){for(u=e.length,c=0;c<u;c++)if(!hi(e[c])){f=!0;break}if(f){if(!gi(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(a=(i=new this(u/2))._buffer,c=0;c<u;c++)a[c]=n.call(r,e[c],c)}else for(a=(i=new this(u))._buffer,y=0,c=0;c<u;c++){if(l=n.call(r,e[c],c),hi(l))a[y]=Ti(l),a[y+1]=_i(l);else{if(!li(l))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+l+"`.");a[y]=l[0],a[y+1]=l[1]}y+=2}}else i=new this(e);else{if(!(si(e)&&Bi&&mi(e[wi])))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.");if(a=e[wi](),!mi(a.next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((o=n?xi(a,n,r):ji(a))instanceof Error)throw o;for(a=(i=new this(u=o.length/2))._buffer,c=0;c<u;c++)a[c]=o[c]}return i}}),di(Ri,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r;if(!mi(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Oi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)}}),di(Ri.prototype,"buffer",{configurable:!1,enumerable:!1,get:function(){return this._buffer.buffer}}),di(Ri.prototype,"byteLength",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteLength}}),di(Ri.prototype,"byteOffset",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteOffset}}),di(Ri.prototype,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Ri.BYTES_PER_ELEMENT}),di(Ri.prototype,"get",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n;if(!Li(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(r=arguments[1],!li(t=e)||t.length<2)throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+t+"`.")}else r=e;if(!fi(r))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.");if(!(r>=this._length))return r*=2,t?(t[0]=n[r],t[1]=n[r+1],t):new Ai(n[r],n[r+1])}}),di(Ri.prototype,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),di(Ri.prototype,"set",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,i,a,o,u,f,l;if(!Li(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!fi(t=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+t+"`.")}else t=0;if(hi(e)){if(t>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+t+"`.");return n[t*=2]=Ti(e),void(n[t+1]=_i(e))}if(Li(e)){if(t+(o=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e._buffer,l=n.byteOffset+t*Vi,r.buffer===n.buffer&&r.byteOffset<l&&r.byteOffset+r.byteLength>l){for(i=new Ei(r.length),f=0;f<r.length;f++)i[f]=r[f];r=i}for(t*=2,l=0,f=0;f<o;f++)n[t]=r[l],n[t+1]=r[l+1],t+=2,l+=2}else{if(!ci(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(o=e.length,f=0;f<o;f++)if(!hi(e[f])){a=!0;break}if(a){if(!gi(o))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+o+"`.");if(t+o/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e,l=n.byteOffset+t*Vi,r.buffer===n.buffer&&r.byteOffset<l&&r.byteOffset+r.byteLength>l){for(i=new Ei(o),f=0;f<o;f++)i[f]=r[f];r=i}for(t*=2,o/=2,l=0,f=0;f<o;f++)n[t]=r[l],n[t+1]=r[l+1],t+=2,l+=2;return}if(t+o>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,f=0;f<o;f++)u=e[f],n[t]=Ti(u),n[t+1]=_i(u),t+=2}}});var Si={float64:_,float32:P,generic:Array,int16:W,int32:Q,int8:ae,uint16:be,uint32:Ee,uint8:Be,uint8c:Fe,complex64:Kn,complex128:Ri};var Ii=function(e){return Si[e]||null};export{Ii as default};
